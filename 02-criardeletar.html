<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/main.css">
    <script type="text/javascript" src="./js/zepto.min.js"></script>
    <script type="text/javascript" src="./js/umd.js"></script>
    <script type="text/javascript" src="./js/helpers.js"></script>
    <script type="text/javascript" src="./js/database.js"></script>
    <title>Metas</title>
    <style>
        
    </style>
</head>
<body class="dark">
    <header>
        <h1>Metas - indexedb</h1>
    </header>
    <main>
        <p>
        IndexedDB é uma forma de armazenar dados no navegador do usuário.
        Com isso é possível criar aplicações web que podem funcionar tanto online quanto offline.
        </p>
        <p>
        No chrome digite ctrl+shift+i para abrir o painel de desenvolvedor.
        Clique em >> Aplicativo >> IndexedDB        
        </p>
        <label for="dbname">nome do banco de dados</label>
        <input type="text" id="dbname" value="metas">
        <label for="stores">nomes das tabelas</label>
        <input type="text" id="stores" value="pessoas;objetivos;metas;tarefas">
        <p></p>
        <button id="createdb">criar</button>
        <button id="deletedb">deletar</button>
        <p></p>
    </main>
    <br>
    <p>mensagens exibidas durante o desenvolvimento</p>
    <div id="log"></div>
    <script>
        let dbName, stores;
        $("#createdb").on("click", function() {
            dbName = $("#dbname").val();
            stores = $("#stores").val().split(';');
            setupDb(dbName, stores);
        })
        $("#deletedb").on("click", function() {
            dbName = $("#dbname").val();
            log("Deletar " + dbName + " database...");
            indexedDB.deleteDatabase(dbName);
        })
    </script>
</body>
</html>